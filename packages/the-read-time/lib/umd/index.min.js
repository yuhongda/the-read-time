(function(i,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],s):(i=typeof globalThis!="undefined"?globalThis:i||self,s(i.TheReadTime={},i.s))})(this,function(i,s){"use strict";function m(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var f=m(s);const h=e=>{const n=Array.from(e).filter(t=>/[\u4e00-\u9fa5]/.test(t)).length,r=Array.from(e).map(t=>/[a-zA-Z0-9\-\s]/.test(t)?t:" ").join("").split(/\s+/).filter(t=>t).length;return n+r},l=e=>{if(e==null)return"";if(typeof e=="string")return e;if(typeof e=="number")return`${e}`;if(typeof e=="boolean")return"";if(Array.isArray(e))return e.map(n=>l(n)).join("");if(f.default.isValidElement(e)&&e.hasOwnProperty("props")){if(e.props.hasOwnProperty("children"))return l(e.props.children);if(e.props.hasOwnProperty("dangerouslySetInnerHTML")&&e.props.dangerouslySetInnerHTML.hasOwnProperty("__html"))return l(e.props.dangerouslySetInnerHTML.__html)}return""},y=[{icon:"\u{1F363}",minutes:1},{icon:"\u{1F354}",minutes:5},{icon:"\u{1F371}",minutes:15}],T=200,d=(e,n)=>{if(e.length===0)return[];const[r,...t]=e,o=Math.floor(n/r.minutes);return[new Array(o).fill(r.icon),...d(t,n%r.minutes)]},_=e=>{const[n,r,t]=new Date(e*60*1e3).toISOString().substring(11,19).split(":").map(o=>Number(o));return`${n?`${n}h`:""}${r?`${r}'`:""}${t?`${t}"`:""}`},p=e=>{const{steps:n=y,speed:r=T,time:t,displayRender:o}=e;let u;if(t)u=t;else{const a=l(e.children);u=h(a)/r}const A=_(u),E=n.sort((a,$)=>$.minutes-a.minutes),c=d(E,u);return f.default.createElement("div",null,o?o(c,u):f.default.createElement("div",null,c.flat().join(""),A),e.children)};var g={TheReadTime:p};i.TheReadTime=p,i.default=g,Object.defineProperty(i,"__esModule",{value:!0})});
